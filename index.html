<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
   <head>
      <script type="text/javascript" src="text-autospace.js/text-autospace.js"></script>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="description" content="ä¸ºä»€ä¹ˆæˆ‘å°±æ˜¯èƒ½è¿™æ ·å¨´ç†Ÿåœ°åŠ ä¸Šç©ºæ ¼å‘¢ï¼Ÿ">
      <title>ä¸ºä»€ä¹ˆæˆ‘å°±æ˜¯èƒ½è¿™æ ·å¨´ç†Ÿåœ°åŠ ä¸Šç©ºæ ¼å‘¢ï¼Ÿ</title>
      <link type="text/css" rel="stylesheet" href="stylesheets/theme.css" />
      <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
      <meta http-equiv="x-dns-prefetch-control" content="off"/>

   </head>
   <body>
      <!-- HEADER -->
      <div id="header_wrap" class="outer">
         <header class="inner">
            <a id="forkme_banner" href="https://github.com/yokiijay/autoSpace">View on GitHub</a>
            <h1 id="project_title">ä¸ºä»€ä¹ˆæˆ‘å°±æ˜¯èƒ½è¿™æ ·å¨´ç†Ÿåœ°åŠ ä¸Šç©ºæ ¼å‘¢ï¼Ÿ</h1>
            <h2 id="project_tagline"></h2>
         </header>
      </div>
      <!-- MAIN CONTENT -->
      <div id="main_content_wrap" class="outer">
         <section id="main_content" class="inner">
            <div class="row">
               <div>
                  æ¯è¡Œï¼š
                  <input id="insert1" type="radio" name="insert" value='false' checked> ä¸æ’å…¥&nbsp;&nbsp;&nbsp;&nbsp;
                  <input id="insert2" type="radio" name="insert" value='true' >&nbsp;&nbsp;
                  å¤§äº<input size="2" id="min" type="number" value="32" style="display:inline-block;width:60px">
                  ä¸”å°äº<input size="12" id="max" type="number" placeholder="é»˜è®¤ä¸è®¾ä¸Šé™" value="" style="display:inline-block;width:60px">
                  æ—¶åœ¨è¯¥è¡Œä¸­é—´æ’å…¥å­—æ®µ
                  <input id="insert" type="text" value="##" style="display:inline-block;width:40px">
               </div>
               <div>
                  ç¬¦å·ï¼š
                  <input id="punc1" type="radio" name="punc" value='false' checked> ä¸æ¸…é™¤&nbsp;&nbsp;&nbsp;&nbsp;
                  <!-- <input type="radio" name="punc" value='true'> æ¸…é™¤å…¨éƒ¨&nbsp;&nbsp;&nbsp;&nbsp; -->
                  <input id="punc2" type="radio" name="punc" value='true' hard='true'> æ¸…é™¤ <input id="puncList" type="text" placeholder="å¡«å…¥ä½ æƒ³æ¸…é™¤çš„ç¬¦å·" style="display:inline-block;width:180px;">
               </div>
               <!-- <div>
                  å…¨è§’ç¬¦å·ï¼š
                  <input type="radio" name="biaodian" value='false' checked> ä¸æ¸…é™¤&nbsp;&nbsp;&nbsp;&nbsp;
                  <input type="radio" name="biaodian" value='true'> æ¸…é™¤å…¨éƒ¨&nbsp;&nbsp;&nbsp;&nbsp;
                  <input type="radio" name="biaodian" value='true' hard='true'> æ¸…é™¤ <input id="biaodianList" type="text" placeholder="å¡«å…¥ä½ æƒ³æ¸…é™¤çš„ç¬¦å·" style="display:inline-block;width:180px;">
               </div> -->
               <div class="large-6 medium-6 columns">
                  <div class="row">
                     <div class="large-12 columns">
                        <label for="post">ä¸€äº›æ–‡å­—</label>
                           <textarea name="content" class="no-space" rows="15"  wrap="hard" style="font-size: 12pt"></textarea>
                     </div>
                     <div class="large-12 columns">
                        <button class="space-god" style="visibility: hidden">ç©ºæ ¼ä¹‹ç¥</button>
                     </div>
                  </div>
               </div>
               <div class="large-6 medium-6 columns">
                  <label for="new_post">ç›˜å¤ä¹‹ç™½</label>
                  <textarea onmouseover="this.select()" class="with-space" rows="15" style="font-size: 12pt" readonly></textarea>
               </div>
            </div>
         </section>
      </div>
      <!-- FOOTER  -->
      <div id="footer_wrap" class="outer">
         <footer class="inner">
            <p class="copyright">ä¸ºä»€ä¹ˆæˆ‘å°±æ˜¯èƒ½è¿™æ ·å¨´ç†Ÿåœ°åŠ ä¸Šç©ºæ ¼å‘¢ï¼Ÿ maintained by <a href="https://github.com/zizhengwu">Zizheng Wu</a> modified by <a href="https://github.com/yokiijay">Yokiijay</a> </p>
            <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
         </footer>
      </div>

      <script>
         // è·å– dom
         const noSpace = document.querySelector('.no-space')
         const withSpace = document.querySelector('.with-space')

         const min = document.getElementById('min')
         const max = document.getElementById('max')
         const insert = document.getElementById('insert')
         const puncList = document.getElementById('puncList')

         const radioInsert = document.getElementsByName('insert')
         const radioPunc = document.getElementsByName('punc')

         // åˆå§‹åŒ–strå’Œno-space
         let initStr = localStorage.getItem('nospace') ? localStorage.getItem('nospace') : 'firstç©ºæ ¼blank\nï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—\nï½ï½‚ï½ƒï½šï¼¡ï¼¢ï¼£ï¼º\n,.,.,....\nï¼Œã€‚ï¼Œã€‚ã€‚ã€‚' //åˆå§‹è·å–è¾“å…¥çš„å€¼
         const autoSpace = new AutoSpace()

         //åˆå§‹åŒ–å¤„ç†ä¸€é
         let str = initStr
         str = autoSpace.space(str,true) // str, oneSpace
         str = autoSpace.numAngelTransfer(str) // str
         str = autoSpace.enAngelTransfer(str) // str

         noSpace.value = initStr
         withSpace.value = str
         puncList.value = autoSpace.puncDetect(str)+autoSpace.biaodianDetect(str)
         puncList.disabled = true

         // ç›‘å¬inputå˜åŒ– å¤„ç†
         new Array(noSpace, min, max, insert, ...radioInsert, ...radioPunc, puncList).forEach((dom)=>{
            dom.addEventListener('input', ()=>{

               str = noSpace.value
               str = autoSpace.space(str,true) // str, oneSpace
               str = autoSpace.numAngelTransfer(str) // str
               str = autoSpace.enAngelTransfer(str) // str

               radioPunc.forEach(dom=>{
                  if(dom.checked && dom.value=='false'){
                     puncList.value = autoSpace.puncDetect(str)+autoSpace.biaodianDetect(str)
                     puncList.disabled = true
                     return // ä¸å¤„ç†
                  }
                  if(dom.checked && dom.value=='true'){
                     if(dom.getAttribute('hard') == 'true' && puncList.value == ''){
                        return 
                     }
                     puncList.disabled = false
                     str = autoSpace.puncBye(str, puncList.value) // str, list
                  }
               })

               radioInsert.forEach(dom=>{
                  if(dom.checked && dom.value=='false')
                  return // ä¸å¤„ç†
                  if(dom.checked && dom.value=='true')
                  str = autoSpace.insert(str, insert.value, min.value, max.value) // str, insert, min, max
               })

               withSpace.value = str

               /* localStorage ä¿å­˜ç¦»çº¿æ•°æ® */ /* æ§åˆ¶å°è¾“å…¥ localStorage.clear() å¯æ¸…ç©ºå¤åŸ */
               localStorage.setItem('nospace', noSpace.value)
               radioInsert.forEach(dom=>{
                  if(dom.checked && dom.value=='true')
                     localStorage.setItem('insertChecked', dom.id)
                     /* ç»§ç»­ ğŸ‘‡ */
               })
               console.log( localStorage )
            })
         })
      </script>
   </body>
</html>
